<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<div th:if="${session.role == 1}">

    <head>
        <link rel="stylesheet" href="/styles.css" type="text/css">
        <link rel="stylesheet" href="/windows.css" type="text/css">
        <link rel="stylesheet" href="/main.css" type="text/css">
        <meta charset="UTF-8">
        <title>Home</title>
    </head>
    <body>


    <!-- User creation -->

    <div class ="user-window">

        <form th:action="@{/newUser}" method="post" th:object="${User}">
            <input type="text" name="username" placeholder="Username">
            <input type="text" name="firstName" placeholder="First name">
            <input type="text" name="lastName" placeholder="Last name">
            <input type="text" name="email" placeholder="E-mail">
            <select name="fk_roles">
                <option th:each="role : ${roleList}" th:value="${role.id}" th:text="${role.name}"></option>
            </select>
            <button type="submit">Create User</button>
        </form>

        <p th:text="${message}"></p>

    </div>

    <!-- Messages -->

    <div>

        <ul>
            <li th:each="message : ${messageList}">
                <span th:text="${message.sent_from}"></span>
                <span th:text="${message.text}"></span>
            </li>
        </ul>

    </div>

    <!-- Add task -->



    <!-- Task menu -->

    <div>
        <ul>
            <li th:each="task : ${newTasks}">
                <p th:text="${task.taskName}"></p>
                <button>Billede af filer</button>
                <button>Billede af tandhjul</button>
                <button>Billede af skrald</button>
                <div th:if="${task.fk_status == 1}">
                    <button type="button">Rød knap</button>
                </div>
                <div th:if="${task.fk_status == 2}">
                    <button type="button">Gul knap</button>
                </div>
                <div th:if="${task.fk_status == 3}">
                    <button type="button">Grøn knap</button>
                </div>
            </li>
        </ul>
    </div>

    </body>

    <!-- Task Popup -->

    <div id="Task-box" class="modal">
        <div class="modal-content">
            <div class="box-header">
                <span class="Task-close">&times;</span>
                <h2>New Task</h2>
            </div>
            <div class="box-content">
                <form th:action="@{/newTask}" method="post" th:object="${Task}">
                    <input type="text" name="taskName" placeholder="Name the task...">
                    <select name="customer_id">
                        <option selected disabled hidden>Choose a customer...</option>
                        <option th:each="customer : ${customerList}" th:value="${customer.id}" th:text="${customer.username}"></option>
                    </select>
                    <select name="employee_id">
                        <option selected disabled hidden>Choose an employee...</option>
                        <option th:each="employee : ${employeeList}" th:value="${employee.id}" th:text="${employee.username}"></option>
                    </select>
                    <button type="submit">Submit task</button>
                </form>
            </div>
        </div>
    </div>

</div>
</html>